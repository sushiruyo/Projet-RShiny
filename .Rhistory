library(shiny)
library(httr)
library(jsonlite)
library(RMySQL)
contract <- "Lyon"
api_key <- "400699ac5a2d81c64cf5485dd8f6f20f3520e456"
base_url <- "https://api.jcdecaux.com/vls/v1/stations?"
url <- paste0(base_url, "contract=", contract, "&apiKey=", api_key)
response <- GET(url)
print(response)
Velov_list <- fromJSON(rawToChar(response$content), flatten = TRUE)
df <- data.frame(Velov_list)
con <- dbConnect(MySQL(),
user = "sql11646648",
password = "evq3U456nu",
host = "sql11.freesqldatabase.com",
dbname = "sql11646648")
"Tables : communes, stations, état (api key sur état pour refresh)"
"pour l'UI : aller voir layout R shiny sur google"
"pour la carte : r shiny liflet"
View(df)
install.packages("leaflet")
install.packages("leaflet")
install.packages(leaflet)
install.packages("leaflet")
install.packages("leaflet")
install.packages("leaflet")
install.packages("leaflet")
library(shiny)
library(leaflet)
View(df)
View(con)
library(shiny)
library(leaflet)
library(shiny)
"library(leaflet)"
library(httr)
library(jsonlite)
library(RMySQL)
contract <- "Lyon"
api_key <- "400699ac5a2d81c64cf5485dd8f6f20f3520e456"
base_url <- "https://api.jcdecaux.com/vls/v1/stations?"
url <- paste0(base_url, "contract=", contract, "&apiKey=", api_key)
response <- GET(url)
print(response)
Velov_list <- fromJSON(rawToChar(response$content), flatten = TRUE)
df <- data.frame(Velov_list)
con <- dbConnect(MySQL(),
user = "sql11646648",
password = "evq3U456nu",
host = "sql11.freesqldatabase.com",
dbname = "sql11646648")
ui <- fluidPage(
# Application title
titlePanel("R SHINY PROJECT"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Nombre de bins:",
min = 1,
max = 50,
value = 30)
),
# Show a plot of the generated distribution
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Plot", plotOutput("distPlot")),
tabPanel("2e", plotOutput("dist2plot"))
)
)
)
)
# Define server logic required to draw a histogram
server <- function(input, output) {
output$distPlot <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
hist(x, breaks = bins, col = 'darkgray', border = 'white',
xlab = 'Waiting time to next eruption (in mins)',
main = 'Histogram of waiting times')
})
output$dist2plot <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
pie(x, breaks = bins, col = 'red', border = 'white',
xlab = 'Waiting time to next eruption (in mins)',
main = 'Test')
})
}
# Run the application
shinyApp(ui = ui, server = server)
df <- data.frame(Velov_list)
